import { b as createAstro, c as createComponent, r as renderComponent, d as renderScript, a as renderTemplate, m as maybeRenderHead, e as addAttribute } from '../../chunks/astro/server_DMB4Uz73.mjs';
import 'piccolore';
import { g as getLangFromUrl, $ as $$BaseLayout, u as useTranslations, a as $$Wrapper, b as $$Text } from '../../chunks/BaseLayout_ea5yR0aV.mjs';
import { $ as $$Button } from '../../chunks/Button_B6723hw2.mjs';
import { c as checkAdminAuth } from '../../chunks/admin_DKwhe7Wu.mjs';
import { g as getSupabaseAdmin } from '../../chunks/admin_Ct61RJ0x.mjs';
export { renderers } from '../../renderers.mjs';

const $$Astro = createAstro("https://readme.club");
const $$Resources = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Resources;
  const lang = getLangFromUrl(Astro2.url);
  const t = useTranslations(lang);
  if (!checkAdminAuth(Astro2.cookies)) {
    return Astro2.redirect("/admin");
  }
  const supabaseAdmin = getSupabaseAdmin();
  const { data: resources } = await supabaseAdmin.from("resources").select("*").order("created_at", { ascending: false });
  return renderTemplate`${renderComponent($$result, "BaseLayout", $$BaseLayout, {}, { "default": async ($$result2) => renderTemplate` ${maybeRenderHead()}<section> ${renderComponent($$result2, "Wrapper", $$Wrapper, { "variant": "hero" }, { "default": async ($$result3) => renderTemplate` <div class="flex items-center justify-between"> ${renderComponent($$result3, "Text", $$Text, { "tag": "h1", "variant": "displaySM", "class": "text-base-900 font-medium 2xl:text-5xl tracking-tight" }, { "default": async ($$result4) => renderTemplate`${t("admin.resources")}` })} <div class="flex items-center gap-4"> <a href="/admin/stats"> ${renderComponent($$result3, "Button", $$Button, { "variant": "muted", "size": "sm" }, { "default": async ($$result4) => renderTemplate`
Stats
` })} </a> <a href="/admin/features"> ${renderComponent($$result3, "Button", $$Button, { "variant": "muted", "size": "sm" }, { "default": async ($$result4) => renderTemplate`
Features
` })} </a> <a href="/admin/wallpapers"> ${renderComponent($$result3, "Button", $$Button, { "variant": "muted", "size": "sm" }, { "default": async ($$result4) => renderTemplate`
Wallpapers
` })} </a> <a href="/admin/logout"> ${renderComponent($$result3, "Button", $$Button, { "variant": "muted", "size": "sm" }, { "default": async ($$result4) => renderTemplate`${t("admin.logout")}` })} </a> </div> </div> ` })} </section> <section> ${renderComponent($$result2, "Wrapper", $$Wrapper, { "variant": "standard", "class": "py-6 pb-24" }, { "default": async ($$result3) => renderTemplate` <div class="space-y-4"> ${resources && resources.length > 0 ? resources.map((resource) => renderTemplate`<div class="flex items-center justify-between p-4 border border-base-200 rounded-lg hover:bg-base-50"> <div class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "h3", "variant": "textBase", "class": "font-semibold text-base-900" }, { "default": async ($$result4) => renderTemplate`${resource.title}` })} <div class="flex items-center gap-4 mt-2"> <span${addAttribute(`text-xs px-2 py-1 rounded ${resource.status === "approved" ? "bg-green-100 text-green-700" : resource.status === "pending" ? "bg-yellow-100 text-yellow-700" : "bg-red-100 text-red-700"}`, "class")}> ${resource.status} </span> ${resource.hidden && renderTemplate`<span class="text-xs text-base-500">Hidden</span>`} ${resource.starred && renderTemplate`<span class="text-xs text-yellow-600">‚≠ê Starred</span>`} <span class="text-xs text-base-500"> ${t("resources.downloads", { count: resource.downloads_count })} </span> </div> </div> <div class="flex items-center gap-2"> <button${addAttribute(`px-4 py-2 text-sm rounded-lg transition-colors ${resource.starred ? "bg-yellow-100 text-yellow-700 hover:bg-yellow-200" : "bg-base-100 hover:bg-base-200"}`, "class")}${addAttribute(`toggleStarred('${resource.id}', ${!resource.starred})`, "onclick")}${addAttribute(resource.starred ? "Unstar" : "Star", "title")}> ${resource.starred ? "\u2B50" : "\u2606"} </button> <button class="px-4 py-2 text-sm bg-base-100 hover:bg-base-200 rounded-lg transition-colors"${addAttribute(`toggleHidden('${resource.id}', ${!resource.hidden})`, "onclick")}> ${resource.hidden ? "Show" : "Hide"} </button> <button class="px-4 py-2 text-sm bg-blue-500 text-white hover:bg-blue-600 rounded-lg transition-colors"${addAttribute(`openEditModal('${resource.id}')`, "onclick")}> ${t("common.edit")} </button> <a${addAttribute(`/resources/${resource.id}`, "href")} target="_blank" class="px-4 py-2 text-sm bg-accent-500 text-white hover:bg-accent-600 rounded-lg transition-colors"> ${t("common.view")} </a> </div> </div>`) : renderTemplate`${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textBase", "class": "text-base-500 text-center py-12" }, { "default": async ($$result4) => renderTemplate`
No resources found
` })}`} </div> ` })} </section>  <div id="editModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4"> <div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"> <div class="p-6"> <div class="flex items-center justify-between mb-6"> ${renderComponent($$result2, "Text", $$Text, { "tag": "h2", "variant": "textXL", "class": "font-semibold text-base-900" }, { "default": async ($$result3) => renderTemplate`${t("admin.edit_resource")}` })} <button onclick="closeEditModal()" class="text-base-500 hover:text-base-900 transition-colors"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path> </svg> </button> </div> <form id="editForm" onsubmit="handleEditSubmit(event)"> <input type="hidden" id="editResourceId"> <div class="space-y-4"> <!-- Type --> <div> <label for="editType" class="block text-sm font-medium text-base-900 mb-2"> ${t("resources.type.label")} </label> <select id="editType" name="type" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400" required> <option value="tool">${t("resources.type.tool")}</option> <option value="language_file">${t("resources.type.language_file")}</option> <option value="plugin">${t("resources.type.plugin")}</option> <option value="link">${t("resources.type.link")}</option> <option value="documentation">${t("resources.type.documentation")}</option> <option value="info">${t("resources.type.info")}</option> <option value="other">${t("resources.type.other")}</option> </select> </div> <!-- Title --> <div> <label for="editTitle" class="block text-sm font-medium text-base-900 mb-2"> ${t("form.title")} </label> <input type="text" id="editTitle" name="title" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400" required> </div> <!-- Description --> <div> <label for="editDescription" class="block text-sm font-medium text-base-900 mb-2"> ${t("form.description")} </label> <textarea id="editDescription" name="description" rows="4" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400" required></textarea> </div> <!-- File URL --> <div> <label for="editFileUrl" class="block text-sm font-medium text-base-900 mb-2"> ${t("form.file_url")} (${t("common.optional")})
</label> <input type="url" id="editFileUrl" name="file_url" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400" placeholder="https://..."> </div> <!-- External Link --> <div> <label for="editExternalLink" class="block text-sm font-medium text-base-900 mb-2"> ${t("form.external_link")} (${t("common.optional")})
</label> <input type="url" id="editExternalLink" name="external_link" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400" placeholder="https://..."> </div> <!-- Thumbnail URL --> <div> <label for="editThumbnailUrl" class="block text-sm font-medium text-base-900 mb-2"> ${t("form.thumbnail_url")} (${t("common.optional")})
</label> <input type="url" id="editThumbnailUrl" name="thumbnail_url" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400" placeholder="https://..."> </div> <!-- Version --> <div> <label for="editVersion" class="block text-sm font-medium text-base-900 mb-2"> ${t("resources.version")} (${t("common.optional")})
</label> <input type="text" id="editVersion" name="version" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400"${addAttribute(t("form.version_placeholder"), "placeholder")}> </div> <!-- Compatibility --> <div> <label for="editCompatibility" class="block text-sm font-medium text-base-900 mb-2"> ${t("resources.compatibility")} (${t("common.optional")})
</label> <input type="text" id="editCompatibility" name="compatibility" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400"${addAttribute(t("form.compatibility_placeholder"), "placeholder")}> </div> <!-- Installation Instructions --> <div> <label for="editInstallation" class="block text-sm font-medium text-base-900 mb-2"> ${t("resources.installation")} (${t("common.optional")})
</label> <textarea id="editInstallation" name="installation_instructions" rows="3" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400"${addAttribute(t("form.installation_placeholder"), "placeholder")}></textarea> </div> <!-- Known Issues --> <div> <label for="editKnownIssues" class="block text-sm font-medium text-base-900 mb-2"> ${t("resources.known_issues")} (${t("common.optional")})
</label> <textarea id="editKnownIssues" name="known_issues" rows="3" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400"${addAttribute(t("form.known_issues_placeholder"), "placeholder")}></textarea> </div> <!-- Contributor Name --> <div> <label for="editContributorName" class="block text-sm font-medium text-base-900 mb-2"> ${t("resources.contributor")} (${t("common.optional")})
</label> <input type="text" id="editContributorName" name="contributor_name" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400"${addAttribute(t("form.contributor_name_placeholder"), "placeholder")}> </div> <!-- Contact Info --> <div> <label for="editContactInfo" class="block text-sm font-medium text-base-900 mb-2"> ${t("resources.contact")} (${t("common.optional")})
</label> <input type="text" id="editContactInfo" name="contact_info" class="w-full px-4 py-2 border border-base-200 rounded-lg focus:ring-2 focus:ring-accent-400 focus:border-accent-400"${addAttribute(t("form.contact_info_placeholder"), "placeholder")}> </div> </div> <div class="flex items-center justify-end gap-4 mt-6"> <button type="button" onclick="closeEditModal()" class="px-4 py-2 text-sm bg-base-100 hover:bg-base-200 rounded-lg transition-colors"> ${t("common.cancel")} </button> <button type="submit" class="px-4 py-2 text-sm bg-accent-500 text-white hover:bg-accent-600 rounded-lg transition-colors"> ${t("admin.save_changes")} </button> </div> </form> </div> </div> </div> ` })} ${renderScript($$result, "/Users/florentbertiaux/Documents/GitHub/xteinkhub2026/src/pages/admin/resources.astro?astro&type=script&index=0&lang.ts")}`;
}, "/Users/florentbertiaux/Documents/GitHub/xteinkhub2026/src/pages/admin/resources.astro", void 0);

const $$file = "/Users/florentbertiaux/Documents/GitHub/xteinkhub2026/src/pages/admin/resources.astro";
const $$url = "/admin/resources";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Resources,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
