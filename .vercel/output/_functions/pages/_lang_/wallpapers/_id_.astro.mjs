import { b as createAstro, c as createComponent, r as renderComponent, a as renderTemplate, C as Fragment, m as maybeRenderHead, e as addAttribute } from '../../../chunks/astro/server_DMB4Uz73.mjs';
import 'piccolore';
import { $ as $$BaseLayout, u as useTranslations, a as $$Wrapper, b as $$Text } from '../../../chunks/BaseLayout_ea5yR0aV.mjs';
import { $ as $$Button } from '../../../chunks/Button_B6723hw2.mjs';
import { $ as $$Seo } from '../../../chunks/Seo_Dd6omgxK.mjs';
import { $ as $$WallpaperThumbnail } from '../../../chunks/WallpaperThumbnail_CToSK3x6.mjs';
import { s as supabase } from '../../../chunks/client_DiYgajIf.mjs';
import { g as getGradientForId } from '../../../chunks/gradients_DWIDfilt.mjs';
export { renderers } from '../../../renderers.mjs';

const $$Astro = createAstro("https://readme.club");
const prerender = false;
const $$id = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$id;
  const lang = Astro2.params.lang || "en";
  const t = useTranslations(lang);
  const siteUrl = Astro2.site || "https://readme.club";
  const id = Astro2.params.id;
  if (!id) {
    return Astro2.redirect(`/${lang}/wallpapers`);
  }
  const { data: wallpaper, error } = await supabase.from("wallpapers").select("*").eq("id", id).eq("status", "published").eq("hidden", false).single();
  if (error || !wallpaper) {
    return Astro2.redirect(`/${lang}/wallpapers`);
  }
  const { data: otherWallpapers } = await supabase.from("wallpapers").select("*").eq("status", "published").eq("hidden", false).neq("id", id).order("created_at", { ascending: false }).limit(10);
  const shuffled = otherWallpapers ? [...otherWallpapers].sort(() => Math.random() - 0.5).slice(0, 6) : [];
  const gradient = getGradientForId(wallpaper.id);
  const gradientStyle = `background: linear-gradient(135deg, ${gradient.from} 0%, ${gradient.to} 100%);`;
  const textColorStyle = `color: ${gradient.text};`;
  const imageUrl = wallpaper.file_url || "/placeholder-wallpaper.jpg";
  const ogImage = wallpaper.file_url || `${siteUrl}/api/wallpapers/${wallpaper.id}/og-image.png`;
  return renderTemplate`${renderComponent($$result, "BaseLayout", $$BaseLayout, {}, { "default": async ($$result2) => renderTemplate`  ${maybeRenderHead()}<section> ${renderComponent($$result2, "Wrapper", $$Wrapper, { "variant": "hero" }, { "default": async ($$result3) => renderTemplate` <div class="grid grid-cols-1 lg:grid-cols-3 gap-12"> <div class="lg:col-span-2"> <div class="w-full max-w-2xl mx-auto overflow-hidden rounded-lg bg-base-100 border border-base-200"> ${wallpaper.file_url ? renderTemplate`<div class="relative"> <img${addAttribute(imageUrl, "src")}${addAttribute(wallpaper.title || "Wallpaper", "alt")} class="w-full h-auto max-h-[70vh] object-contain" loading="lazy" decoding="async"> <a${addAttribute(imageUrl, "href")} target="_blank" rel="noopener noreferrer" class="absolute top-4 right-4 bg-white/90 hover:bg-white backdrop-blur-sm rounded-full p-2 shadow-sm transition-colors"${addAttribute(t("wallpapers.view_full_size"), "title")}${addAttribute(t("wallpapers.view_full_size"), "aria-label")}> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-base-900"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M7 7h10v10"></path> <path d="M7 17l10 -10"></path> <path d="M17 7l-10 10"></path> </svg> </a> </div>` : renderTemplate`<div class="aspect-[3/4] w-full flex items-center justify-center"${addAttribute(gradientStyle, "style")}> ${renderComponent($$result3, "Text", $$Text, { "tag": "span", "variant": "displaySM", "class": "font-semibold px-8 text-center", "style": textColorStyle }, { "default": async ($$result4) => renderTemplate`${wallpaper.title || "Wallpaper"}` })} </div>`} </div> </div> <div class="flex flex-col h-full justify-between"> <div> ${renderComponent($$result3, "Text", $$Text, { "tag": "h1", "variant": "displaySM", "class": "text-base-900 mt-12 font-medium 2xl:text-5xl tracking-tight" }, { "default": async ($$result4) => renderTemplate`${wallpaper.title || "Untitled Wallpaper"}` })} ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textBase", "class": "mt-4 text-base-600 text-balance" }, { "default": async ($$result4) => renderTemplate`${t("wallpapers.subtitle")}` })} ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textBase", "class": "text-base-900 mt-12 font-medium uppercase" }, { "default": async ($$result4) => renderTemplate`
Details
` })} <dl class="relative flex flex-col gap-4 mt-4 w-full"> ${wallpaper.category && renderTemplate`<div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>Category</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate`${t(`wallpapers.category.${wallpaper.category}`)}` })} </dd> </div>`} <div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>Downloads</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate`${t("wallpapers.downloads", { count: wallpaper.download_count })}` })} </dd> </div> ${wallpaper.width > 0 && wallpaper.height > 0 && renderTemplate`<div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>${t("wallpapers.resolution")}</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate`${wallpaper.width} Ã— ${wallpaper.height} px
` })} </dd> </div>`} ${wallpaper.file_size > 0 && renderTemplate`<div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>${t("wallpapers.file_size")}</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate`${(wallpaper.file_size / (1024 * 1024)).toFixed(2)} MB
` })} </dd> </div>`} ${wallpaper.author_name && renderTemplate`<div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>${t("wallpapers.author")}</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate`${wallpaper.author_name}` })} </dd> </div>`} ${wallpaper.reddit_username && renderTemplate`<div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>Reddit</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate` <a${addAttribute(`https://reddit.com/user/${wallpaper.reddit_username}`, "href")} target="_blank" rel="noopener noreferrer" class="text-accent-500 hover:underline">
u/${wallpaper.reddit_username} </a> ` })} </dd> </div>`} ${wallpaper.instagram_username && renderTemplate`<div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>Instagram</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate` <a${addAttribute(`https://instagram.com/${wallpaper.instagram_username}`, "href")} target="_blank" rel="noopener noreferrer" class="text-accent-500 hover:underline">
@${wallpaper.instagram_username} </a> ` })} </dd> </div>`} </dl> </div> <div class="flex items-center mt-8 justify-between"> ${wallpaper.file_url && renderTemplate`<a${addAttribute(`/api/wallpapers/${wallpaper.id}/download`, "href")} class="block"> ${renderComponent($$result3, "Button", $$Button, { "variant": "accent", "size": "xs", "class": "justify-center flex items-center gap-1 w-auto" }, { "default": async ($$result4) => renderTemplate` <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-download size-4"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path> <path d="M7 11l5 5l5 -5"></path> <path d="M12 4l0 12"></path> </svg> ${t("wallpapers.download")}` })} </a>`} </div> </div> </div> ` })} </section> ${shuffled && shuffled.length > 0 && renderTemplate`<section> ${renderComponent($$result2, "Wrapper", $$Wrapper, { "variant": "standard", "class": "py-6" }, { "default": async ($$result3) => renderTemplate` ${renderComponent($$result3, "Text", $$Text, { "tag": "h2", "variant": "textBase", "class": "text-base-900 font-medium mb-4" }, { "default": async ($$result4) => renderTemplate`${t("wallpapers.related")}` })} <div class="flex gap-4 overflow-x-auto scrollbar-hide pb-2"> ${shuffled.map((wp) => renderTemplate`${renderComponent($$result3, "WallpaperThumbnail", $$WallpaperThumbnail, { "wallpaper": wp })}`)} <a${addAttribute(`/api/wallpapers/random`, "href")} class="group relative flex-shrink-0 w-32 h-48 rounded-lg overflow-hidden border border-base-200 bg-white hover:border-accent-300 hover:shadow-lg transition-all flex items-center justify-center"${addAttribute(t("wallpapers.random"), "title")}> <div class="flex flex-col items-center justify-center gap-2 text-base-600 group-hover:text-accent-500 transition-colors"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-8"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"></path> <path d="M8 8h.01"></path> <path d="M16 8h.01"></path> <path d="M12 12h.01"></path> <path d="M8 16h.01"></path> <path d="M16 16h.01"></path> </svg> ${renderComponent($$result3, "Text", $$Text, { "tag": "span", "variant": "textXS", "class": "font-medium" }, { "default": async ($$result4) => renderTemplate`${t("wallpapers.random")}` })} </div> </a> </div> ` })} </section>`}`, "head": async ($$result2) => renderTemplate`${renderComponent($$result2, "Fragment", Fragment, { "slot": "head" }, { "default": async ($$result3) => renderTemplate` ${renderComponent($$result3, "Seo", $$Seo, { "title": `${wallpaper.title || "Wallpaper"} - ${t("wallpapers.title")} - ${t("site.name")}`, "description": wallpaper.title ? `${t("wallpapers.subtitle")} - ${wallpaper.title}` : t("wallpapers.subtitle"), "canonical": `${siteUrl}/${lang}/wallpapers/${wallpaper.id}`, "ogImage": ogImage, "ogType": "article", "lang": lang })} ` })}` })}`;
}, "/Users/florentbertiaux/Documents/GitHub/xteinkhub2026/src/pages/[lang]/wallpapers/[id].astro", void 0);

const $$file = "/Users/florentbertiaux/Documents/GitHub/xteinkhub2026/src/pages/[lang]/wallpapers/[id].astro";
const $$url = "/[lang]/wallpapers/[id]";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$id,
  file: $$file,
  prerender,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
