import { b as createAstro, c as createComponent, r as renderComponent, a as renderTemplate, C as Fragment, m as maybeRenderHead, e as addAttribute } from '../../../chunks/astro/server_DMB4Uz73.mjs';
import 'piccolore';
import { $ as $$BaseLayout, u as useTranslations, a as $$Wrapper, b as $$Text } from '../../../chunks/BaseLayout_CO6ejgXa.mjs';
import { $ as $$Button } from '../../../chunks/Button_B6723hw2.mjs';
import { $ as $$Link } from '../../../chunks/Link_Ins73ZxP.mjs';
import { $ as $$Seo } from '../../../chunks/Seo_Dd6omgxK.mjs';
import { $ as $$SmallResourceCard, a as $$SmallMoreCard } from '../../../chunks/SmallMoreCard_BwYn5lxI.mjs';
import { s as supabase } from '../../../chunks/client_DiYgajIf.mjs';
import { g as getGradientForId } from '../../../chunks/gradients_DWIDfilt.mjs';
export { renderers } from '../../../renderers.mjs';

const $$Astro = createAstro("https://readme.club");
const $$id = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$id;
  const lang = Astro2.params.lang || "en";
  const t = useTranslations(lang);
  const siteUrl = Astro2.site || "https://readme.club";
  const id = Astro2.params.id;
  if (!id) {
    return Astro2.redirect(`/${lang}/resources`);
  }
  const { data: resource, error } = await supabase.from("resources").select("*").eq("id", id).eq("status", "approved").eq("hidden", false).single();
  if (error || !resource) {
    return Astro2.redirect(`/${lang}/resources`);
  }
  const gradient = getGradientForId(resource.id);
  const gradientStyle = `background: linear-gradient(135deg, ${gradient.from} 0%, ${gradient.to} 100%);`;
  const textColorStyle = `color: ${gradient.text};`;
  const thumbnailUrl = resource.thumbnail_url || `/api/resources/${resource.id}/og-image.png`;
  const hasFile = !!resource.file_url;
  const hasExternalLink = !!resource.external_link;
  const ogImage = resource.thumbnail_url || `${siteUrl}/api/resources/${resource.id}/og-image.png`;
  const isImageFile = hasFile && resource.file_name ? /\.(jpg|jpeg|png|gif|webp|svg|bmp|ico)$/i.test(resource.file_name) : false;
  let starredResources = null;
  try {
    const { data, error: error2 } = await supabase.from("resources").select("*").eq("status", "approved").eq("hidden", false).eq("starred", true).neq("id", resource.id).order("created_at", { ascending: false }).limit(3);
    if (error2) {
      console.error("Error fetching starred resources:", error2);
      starredResources = null;
    } else {
      starredResources = data;
      console.log("Starred resources found:", starredResources?.length || 0);
    }
  } catch (err) {
    console.error("Exception fetching starred resources:", err);
    starredResources = null;
  }
  return renderTemplate`${renderComponent($$result, "BaseLayout", $$BaseLayout, {}, { "default": async ($$result2) => renderTemplate`  ${maybeRenderHead()}<section> ${renderComponent($$result2, "Wrapper", $$Wrapper, { "variant": "hero" }, { "default": async ($$result3) => renderTemplate` <div class="grid grid-cols-1 lg:grid-cols-3 gap-12"> <div class="lg:col-span-2"> <div class="aspect-video w-full overflow-hidden rounded-lg bg-base-100 relative"> ${resource.thumbnail_url || isImageFile && resource.file_url ? renderTemplate`${renderComponent($$result3, "Fragment", Fragment, {}, { "default": async ($$result4) => renderTemplate` <img${addAttribute(isImageFile && resource.file_url ? resource.file_url : thumbnailUrl, "src")}${addAttribute(resource.title, "alt")} class="h-full w-full object-cover"> ${isImageFile && resource.file_url && renderTemplate`<a${addAttribute(`/api/resources/${resource.id}/download`, "href")} class="absolute top-4 right-4 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg transition-all group"${addAttribute(t("resources.download_file"), "title")}> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-download size-5 text-base-900 group-hover:text-accent-500"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path> <path d="M7 11l5 5l5 -5"></path> <path d="M12 4l0 12"></path> </svg> </a>`}` })}` : renderTemplate`<div class="h-full w-full flex items-center justify-center"${addAttribute(gradientStyle, "style")}> ${renderComponent($$result3, "Text", $$Text, { "tag": "span", "variant": "displaySM", "class": "font-semibold px-8 text-center", "style": textColorStyle }, { "default": async ($$result4) => renderTemplate`${resource.title}` })} </div>`} </div> </div> <div class="flex flex-col h-full justify-between"> <div> ${renderComponent($$result3, "Text", $$Text, { "tag": "h1", "variant": "displaySM", "class": "text-base-900 mt-12 font-medium 2xl:text-5xl tracking-tight" }, { "default": async ($$result4) => renderTemplate`${resource.title}` })} ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textBase", "class": "mt-4 text-base-600 text-balance" }, { "default": async ($$result4) => renderTemplate`${resource.description}` })} ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textBase", "class": "text-base-900 mt-12 font-medium uppercase" }, { "default": async ($$result4) => renderTemplate`
Details
` })} <dl class="relative flex flex-col gap-4 mt-4 w-full"> <div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>Type</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate`${t(`resources.type.${resource.type}`)}` })} </dd> </div> <div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>Downloads</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate`${t("resources.downloads", { count: resource.downloads_count })}` })} </dd> </div> ${resource.version && renderTemplate`<div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>${t("resources.version")}</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate`${resource.version}` })} </dd> </div>`} ${resource.compatibility && renderTemplate`<div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>${t("resources.compatibility")}</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate`${resource.compatibility}` })} </dd> </div>`} ${resource.contributor_name && renderTemplate`<div class="flex items-center lg:justify-between"> <dt class="flex-1"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-900 font-medium flex justify-between" }, { "default": async ($$result4) => renderTemplate` <span>${t("resources.contributor")}</span> <span class="flex-1 mx-2 border-dotted border-b border-base-300"></span> ` })} </dt> <dd class="mt-1 text-base-600"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-600" }, { "default": async ($$result4) => renderTemplate`${resource.contributor_name}` })} </dd> </div>`} </dl> </div> <div class="flex items-center mt-8 justify-between"> ${hasFile && renderTemplate`<a${addAttribute(`/api/resources/${resource.id}/download`, "href")} class="block"> ${renderComponent($$result3, "Button", $$Button, { "variant": "accent", "size": "xs", "class": "justify-center flex items-center gap-1 w-auto" }, { "default": async ($$result4) => renderTemplate` <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-download size-4"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path> <path d="M7 11l5 5l5 -5"></path> <path d="M12 4l0 12"></path> </svg> ${t("resources.download_file")}` })} </a>`} ${hasExternalLink && renderTemplate`${renderComponent($$result3, "Link", $$Link, { "size": "xs", "variant": "ghost", "href": resource.external_link, "title": resource.title, "class": "justify-center flex items-center gap-1 w-auto" }, { "default": async ($$result4) => renderTemplate` <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-link size-4"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M9 15l6 -6"></path> <path d="M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464"></path> <path d="M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463"></path> </svg> ${t("resources.visit_link")}` })}`} </div> </div> </div> ` })} </section> <section> ${renderComponent($$result2, "Wrapper", $$Wrapper, { "variant": "standard" }, { "default": async ($$result3) => renderTemplate` <div class="max-w-2xl"> ${resource.installation_instructions && renderTemplate`<div class="mb-8"> ${renderComponent($$result3, "Text", $$Text, { "tag": "h2", "variant": "textLG", "class": "font-semibold text-base-900 mb-3" }, { "default": async ($$result4) => renderTemplate`${t("resources.installation")}` })} <div class="bg-base-50 rounded-lg p-4"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-700 whitespace-pre-line" }, { "default": async ($$result4) => renderTemplate`${resource.installation_instructions}` })} </div> </div>`} ${resource.known_issues && renderTemplate`<div class="mb-8"> ${renderComponent($$result3, "Text", $$Text, { "tag": "h2", "variant": "textLG", "class": "font-semibold text-base-900 mb-3" }, { "default": async ($$result4) => renderTemplate`${t("resources.known_issues")}` })} <div class="bg-yellow-50 rounded-lg p-4"> ${renderComponent($$result3, "Text", $$Text, { "tag": "p", "variant": "textSM", "class": "text-base-700 whitespace-pre-line" }, { "default": async ($$result4) => renderTemplate`${resource.known_issues}` })} </div> </div>`} ${resource.tags && resource.tags.length > 0 && renderTemplate`<div class="flex flex-wrap gap-2"> ${resource.tags.map((tag) => renderTemplate`<span class="text-sm text-base-600 bg-base-100 px-3 py-1 rounded-full"> ${tag} </span>`)} </div>`} </div> ` })} </section>  ${starredResources && starredResources.length > 0 ? renderTemplate`<section> ${renderComponent($$result2, "Wrapper", $$Wrapper, { "variant": "standard", "class": "pt-6 pb-24" }, { "default": async ($$result3) => renderTemplate` <div class="flex flex-col gap-4 lg:flex-row lg:justify-between border-t border-base-200 pt-2"> ${renderComponent($$result3, "Text", $$Text, { "tag": "h2", "variant": "textXS", "class": "font-medium uppercase text-base-600" }, { "default": async ($$result4) => renderTemplate`${t("resources.starred_resources")}` })} ${renderComponent($$result3, "Link", $$Link, { "href": `/${lang}/resources`, "variant": "link", "class": "text-base-600 text-xs uppercase hover:text-accent-500 flex items-center gap-1 transition-all duration-200" }, { "default": async ($$result4) => renderTemplate`
See all resources
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-narrow-right"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l14 0"></path> <path d="M15 16l4 -4"></path> <path d="M15 8l4 4"></path> </svg> ` })} </div> <div class="grid grid-cols-1 gap-2 md:grid-cols-2 xl:grid-cols-4 mt-4"> ${starredResources && starredResources.map((starredResource) => renderTemplate`${renderComponent($$result3, "SmallResourceCard", $$SmallResourceCard, { "resource": starredResource })}`)} ${renderComponent($$result3, "SmallMoreCard", $$SmallMoreCard, { "href": `/${lang}/resources`, "label": t("common.view") + " all" })} </div> ` })} </section>` : null}`, "head": async ($$result2) => renderTemplate`${renderComponent($$result2, "Fragment", Fragment, { "slot": "head" }, { "default": async ($$result3) => renderTemplate` ${renderComponent($$result3, "Seo", $$Seo, { "title": `${resource.title} - ${t("site.name")}`, "description": resource.description, "canonical": `${siteUrl}/${lang}/resources/${resource.id}`, "ogImage": ogImage, "ogType": "article", "lang": lang })} ` })}` })}`;
}, "/Users/florentbertiaux/Documents/GitHub/xteinkhub2026/src/pages/[lang]/resources/[id].astro", void 0);

const $$file = "/Users/florentbertiaux/Documents/GitHub/xteinkhub2026/src/pages/[lang]/resources/[id].astro";
const $$url = "/[lang]/resources/[id]";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$id,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
